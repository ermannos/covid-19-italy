{"version":3,"sources":["data/dataloader.ts","data/regioni.ts","pages/Home.tsx","pages/Page.tsx","pages/Header.tsx","pages/Footer.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["regionalData","nationalData","loadData","url","data","axios","get","then","response","json","forEach","row","point","stato","codiceRegione","codice_regione","denominazioneRegione","denominazione_regione","lat","long","lang","ricoveratiConSintomi","ricoverati_con_sintomi","terapiaIntensiva","terapia_intensiva","totaleOspedalizzati","totale_ospedalzzati","isolamentoDomiciliare","isolamento_domiciliare","totalePositivi","totale_positivi","variazioneTotalePositivi","variazione_totale_positivi","nuoviPositivi","nuovi_positivi","dimessiGuariti","dimessi_guariti","deceduti","decedutiTotali","casiDaSospettoDiagnostico","casi_da_sospetto_diagnostico","casiDaScreening","casi_da_screening","totaleCasi","totale_casi","tamponi","tamponiTotali","positiviTamponi","casiTestati","casi_testati","note","push","catch","err","console","error","calculateDerivedData","previousPoint","Math","round","Regioni","useStyles","makeStyles","theme","container","padding","spacing","formControl","minWidth","lastUpdate","textAlign","footer","backgroundColor","color","grafici","1","value","description","field","2","3","4","5","6","7","8","9","10","11","ValueLabelComponent","props","children","open","enterTouchDelay","placement","title","arrow","Home","classes","useState","regione","setRegione","grafico","setGrafico","datapoints","setDatapoints","range","setRange","min","setMin","max","setMax","useEffect","Promise","all","rData","nData","length","regionCode","filter","map","p","newPoint","getByRegionCode","chartData","useMemo","i","moment","format","Container","maxWidth","className","Grid","item","xl","lg","md","sm","xs","FormControl","variant","size","Select","labelId","id","onChange","evt","target","placeholder","r","MenuItem","Object","values","g","Typography","width","height","margin","top","right","left","bottom","dataKey","strokeDasharray","type","name","stroke","blue","fill","style","marginTop","Slider","valueLabelDisplay","event","Array","isArray","valueLabelFormat","x","Page","flexGrow","github","Header","openGitHub","useCallback","window","AppBar","position","Toolbar","IconButton","onClick","GitHub","Footer","href","App","basename","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","palette","primary","main","secondary","amber","createMuiTheme","ReactDOM","render","StrictMode","ThemeProvider","document","getElementById"],"mappings":"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","file":"static/js/main.8db20d40.chunk.js","sourcesContent":["/* eslint-disable no-param-reassign */\nimport axios from 'axios';\nimport DataPoint from '../types/datapoint';\n\nconst regionalUrl =\n  'https://raw.githubusercontent.com/pcm-dpc/COVID-19/master/dati-json/dpc-covid19-ita-regioni.json';\nconst nationalUrl =\n  'https://raw.githubusercontent.com/pcm-dpc/COVID-19/master/dati-json/dpc-covid19-ita-andamento-nazionale.json';\n\nconst regionalData: DataPoint[] = [];\nconst nationalData: DataPoint[] = [];\n\nconst loadData = (url: string): Promise<DataPoint[]> => {\n  const data: DataPoint[] = [];\n  return axios\n    .get(url)\n    .then(response => response.data)\n    .then(json => {\n      json.forEach(row => {\n        const point: DataPoint = {\n          data: row.data,\n          stato: row.stato,\n          codiceRegione: row.codice_regione,\n          denominazioneRegione: row.denominazione_regione,\n          lat: row.lat,\n          long: row.lang,\n          ricoveratiConSintomi: row.ricoverati_con_sintomi,\n          terapiaIntensiva: row.terapia_intensiva,\n          totaleOspedalizzati: row.totale_ospedalzzati,\n          isolamentoDomiciliare: row.isolamento_domiciliare,\n          totalePositivi: row.totale_positivi,\n          variazioneTotalePositivi: row.variazione_totale_positivi,\n          nuoviPositivi: row.nuovi_positivi,\n          dimessiGuariti: row.dimessi_guariti,\n          deceduti: 0,\n          decedutiTotali: row.deceduti,\n          casiDaSospettoDiagnostico: row.casi_da_sospetto_diagnostico,\n          casiDaScreening: row.casi_da_screening,\n          totaleCasi: row.totale_casi,\n          tamponi: 0,\n          tamponiTotali: row.tamponi,\n          positiviTamponi: 0,\n          casiTestati: row.casi_testati,\n          note: row.note,\n        };\n        data.push(point);\n      });\n\n      return data;\n    })\n    .catch(err => {\n      // eslint-disable-next-line no-console\n      console.error(err);\n      return data;\n    });\n};\n\nconst loadRegionalData = (): Promise<DataPoint[]> => {\n  return loadData(regionalUrl);\n};\n\nconst loadNationalData = (): Promise<DataPoint[]> => {\n  return loadData(nationalUrl);\n};\n\nconst calculateDerivedData = (point: DataPoint, previousPoint: DataPoint): DataPoint => {\n  return {\n    ...point,\n    deceduti: previousPoint ? point.decedutiTotali - previousPoint.decedutiTotali : 0,\n    tamponi: previousPoint ? point.tamponiTotali - previousPoint.tamponiTotali : 0,\n    totaleOspedalizzati: previousPoint ? point.terapiaIntensiva + point.ricoveratiConSintomi : 0,\n    positiviTamponi:\n      previousPoint && point.tamponiTotali > previousPoint.tamponiTotali\n        ? Math.round(\n            (point.nuoviPositivi / (point.tamponiTotali - previousPoint.tamponiTotali)) * 10000\n          ) / 100\n        : 0,\n  };\n};\n\nconst getByRegionCode = (regionCode: number): DataPoint[] => {\n  const points = regionalData.filter(point => point.codiceRegione === regionCode);\n\n  let previousPoint: DataPoint;\n  return points.map(p => {\n    const newPoint = calculateDerivedData(p, previousPoint);\n    previousPoint = p;\n    return newPoint;\n  });\n};\n\nconst refresh = (): Promise<void> => {\n  return Promise.all([loadRegionalData(), loadNationalData()]).then(([rData, nData]) => {\n    rData.forEach(point => {\n      regionalData.push(point);\n    });\n\n    let previousPoint: DataPoint;\n    nData.forEach(point => {\n      nationalData.push(calculateDerivedData(point, previousPoint));\n      previousPoint = point;\n    });\n  });\n};\n\nexport { refresh, getByRegionCode, nationalData };\n","import Regione from '../types/regione';\n\nconst Regioni: Regione[] = [\n  {\n    codiceRegione: 99,\n    denominazioneRegione: 'ITALIA',\n  },\n  {\n    codiceRegione: 13,\n    denominazioneRegione: 'Abruzzo',\n  },\n  {\n    codiceRegione: 17,\n    denominazioneRegione: 'Basilicata',\n  },\n  {\n    codiceRegione: 18,\n    denominazioneRegione: 'Calabria',\n  },\n  {\n    codiceRegione: 15,\n    denominazioneRegione: 'Campania',\n  },\n  {\n    codiceRegione: 8,\n    denominazioneRegione: 'Emilia romagna',\n  },\n  {\n    codiceRegione: 6,\n    denominazioneRegione: 'Friuli Venezia Giulia',\n  },\n  {\n    codiceRegione: 12,\n    denominazioneRegione: 'Lazio',\n  },\n  {\n    codiceRegione: 7,\n    denominazioneRegione: 'Liguria',\n  },\n  {\n    codiceRegione: 3,\n    denominazioneRegione: 'Lombardia',\n  },\n  {\n    codiceRegione: 11,\n    denominazioneRegione: 'Marche',\n  },\n  {\n    codiceRegione: 14,\n    denominazioneRegione: 'Molise',\n  },\n  {\n    codiceRegione: 21,\n    denominazioneRegione: 'P.A. Bolzano',\n  },\n  {\n    codiceRegione: 22,\n    denominazioneRegione: 'P.A. Trento',\n  },\n  {\n    codiceRegione: 1,\n    denominazioneRegione: 'Piemonte',\n  },\n  {\n    codiceRegione: 16,\n    denominazioneRegione: 'Puglia',\n  },\n  {\n    codiceRegione: 20,\n    denominazioneRegione: 'Sardegna',\n  },\n  {\n    codiceRegione: 19,\n    denominazioneRegione: 'Sicilia',\n  },\n  {\n    codiceRegione: 9,\n    denominazioneRegione: 'Toscana',\n  },\n  {\n    codiceRegione: 10,\n    denominazioneRegione: 'Umbria',\n  },\n  {\n    codiceRegione: 2,\n    denominazioneRegione: \"Valle D'Aosta\",\n  },\n  {\n    codiceRegione: 5,\n    denominazioneRegione: 'Veneto',\n  },\n];\n\nexport default Regioni;\n","/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable @typescript-eslint/no-redeclare */\nimport React, { useEffect, useState, useMemo } from 'react';\nimport {\n  Container,\n  FormControl,\n  Select,\n  MenuItem,\n  Grid,\n  Typography,\n  Slider,\n  Tooltip as MUITooltip,\n} from '@material-ui/core';\nimport { blue } from '@material-ui/core/colors';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  ResponsiveContainer,\n  AreaChart,\n  Area,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n} from 'recharts';\nimport moment from 'moment';\nimport { refresh, getByRegionCode, nationalData } from '../data/dataloader';\nimport Regioni from '../data/regioni';\nimport DataPoint from '../types/datapoint';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    padding: theme.spacing(2, 3),\n  },\n  formControl: {\n    minWidth: 200,\n  },\n  lastUpdate: {\n    textAlign: 'right',\n    padding: theme.spacing(2),\n  },\n  footer: {\n    backgroundColor: 'black',\n    color: 'white',\n  },\n}));\n\nconst grafici = {\n  1: { value: 1, description: 'Pazienti degenti', field: 'ricoveratiConSintomi' },\n  2: { value: 2, description: 'Pazienti intensiva', field: 'terapiaIntensiva' },\n  3: { value: 3, description: 'Totale degenti', field: 'totaleOspedalizzati' },\n  4: { value: 4, description: 'Decessi giornalieri', field: 'deceduti' },\n  5: { value: 5, description: 'Decessi totali', field: 'decedutiTotali' },\n  6: { value: 6, description: 'Tamponi giornalieri', field: 'tamponi' },\n  7: { value: 7, description: 'Tamponi totali', field: 'tamponiTotali' },\n  8: { value: 8, description: 'Nuovi positivi', field: 'nuoviPositivi' },\n  9: { value: 9, description: 'Totale positivi', field: 'totalePositivi' },\n  10: { value: 10, description: 'Totale casi', field: 'totaleCasi' },\n  11: { value: 11, description: '% positivi/tamponi giornalieri', field: 'positiviTamponi' },\n};\n\ninterface Props {\n  children: React.ReactElement;\n  open: boolean;\n  value: number;\n}\n\nfunction ValueLabelComponent(props: Props) {\n  const { children, open, value } = props;\n  return (\n    <MUITooltip open={open} enterTouchDelay={0} placement=\"top\" title={value} arrow>\n      {children}\n    </MUITooltip>\n  );\n}\n\nconst Home: React.FC = () => {\n  const classes = useStyles();\n  const [regione, setRegione] = useState(0);\n  const [grafico, setGrafico] = useState(1);\n  const [datapoints, setDatapoints] = useState<DataPoint[]>();\n  const [range, setRange] = useState([0, 100]);\n  const [min, setMin] = useState(0);\n  const [max, setMax] = useState(100);\n\n  useEffect(() => {\n    refresh().then(() => {\n      setMin(0);\n      setMax(nationalData.length - 1);\n      setRange([0, nationalData.length - 1]);\n\n      setRegione(99);\n    });\n  }, []);\n\n  useEffect(() => {\n    if (regione) {\n      if (regione === 99) {\n        setDatapoints(nationalData);\n      } else {\n        setDatapoints(getByRegionCode(regione));\n      }\n    }\n  }, [regione]);\n\n  const onChangeRegione = evt => {\n    setRegione(evt.target.value);\n  };\n\n  const onChangeGrafico = evt => {\n    setGrafico(evt.target.value);\n  };\n\n  const chartData = useMemo(() => {\n    if (!datapoints) return [];\n    return datapoints\n      .filter((p, i) => i >= range[0] && i <= range[1])\n      .map(p => ({\n        data: moment(p.data).format('DD.MM.YYYY'),\n        value: p[grafici[grafico].field],\n      }));\n  }, [datapoints, grafico, range]);\n\n  return (\n    <Container maxWidth=\"xl\" className={classes.container}>\n      <Grid container spacing={2}>\n        <Grid item xl={2} lg={2} md={3} sm={4} xs={6}>\n          <FormControl variant=\"outlined\" size=\"small\" className={classes.formControl}>\n            <Select\n              labelId=\"demo-controlled-open-select-label\"\n              id=\"demo-controlled-open-select\"\n              value={regione}\n              onChange={onChangeRegione}\n              placeholder=\"Regione\"\n            >\n              {Regioni.map(r => (\n                <MenuItem key={`reg-${r.codiceRegione}`} value={r.codiceRegione}>\n                  {r.denominazioneRegione}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n        </Grid>\n\n        <Grid item xl={2} lg={2} md={3} sm={4} xs={6}>\n          <FormControl variant=\"outlined\" size=\"small\" className={classes.formControl}>\n            <Select\n              labelId=\"demo-controlled-open-select-label\"\n              id=\"demo-controlled-open-select\"\n              value={grafico}\n              onChange={onChangeGrafico}\n              placeholder=\"Grafico\"\n            >\n              {Object.values(grafici).map(g => (\n                <MenuItem key={`gf-${g.value}`} value={g.value}>\n                  {g.description}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n        </Grid>\n\n        <Grid item xl={8} lg={8} md={6} sm={4} xs={12}>\n          <div className={classes.lastUpdate}>\n            <Typography>\n              Ultimo aggiornamento:{' '}\n              {datapoints && datapoints.length\n                ? moment(datapoints[datapoints.length - 1].data).format('DD/MM/YYYY')\n                : '-'}\n            </Typography>\n          </div>\n        </Grid>\n\n        <Grid item xs={12}>\n          <ResponsiveContainer width=\"100%\" height={700}>\n            <AreaChart data={chartData} margin={{ top: 5, right: 30, left: 20, bottom: 5 }}>\n              <XAxis dataKey=\"data\" />\n              <YAxis />\n              <CartesianGrid strokeDasharray=\"3 3\" />\n              <Tooltip />\n              <Legend />\n              <Area\n                type=\"monotone\"\n                name={grafici[grafico].description}\n                dataKey=\"value\"\n                stroke={blue[900]}\n                fill={blue[700]}\n              />\n            </AreaChart>\n          </ResponsiveContainer>\n          <Grid item xs={12} style={{ marginTop: '24px' }}>\n            <Slider\n              value={range}\n              min={min}\n              max={max}\n              valueLabelDisplay=\"on\"\n              onChange={(event, value) => {\n                if (Array.isArray(value)) setRange(value);\n              }}\n              ValueLabelComponent={ValueLabelComponent}\n              valueLabelFormat={x =>\n                nationalData && nationalData.length\n                  ? moment(nationalData[x].data).format('DD.MM.YYYY')\n                  : x\n              }\n            />\n          </Grid>\n        </Grid>\n      </Grid>\n    </Container>\n  );\n};\n\nexport default Home;\n","import React from 'react';\n\nconst Page: React.FC = () => {\n  return <div>page</div>;\n};\n\nexport default Page;\n","import React, { useCallback } from 'react';\nimport { AppBar, Toolbar, Typography, IconButton } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { GitHub as GitHubIcon } from '@material-ui/icons';\n\nconst useStyles = makeStyles(() => ({\n  title: {\n    flexGrow: 1,\n  },\n  github: {\n    color: 'white',\n  },\n}));\n\ntype TitleProps = {\n  title: string;\n};\n\nconst Header: React.FC<TitleProps> = ({ title }) => {\n  const classes = useStyles();\n\n  const openGitHub = useCallback(() => {\n    window.open('https://github.com/ermannos/covid-19-italy', '_new');\n  }, []);\n  return (\n    <AppBar position=\"static\">\n      <Toolbar>\n        <Typography variant=\"h6\" className={classes.title}>\n          {title}\n        </Typography>\n\n        <IconButton className={classes.github} onClick={openGitHub} title=\"GitHub repository\">\n          <GitHubIcon />\n        </IconButton>\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nexport default Header;\n","import React from 'react';\nimport { blue } from '@material-ui/core/colors';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n  footer: {\n    backgroundColor: blue[900],\n    color: 'white',\n    textAlign: 'center',\n    padding: theme.spacing(2, 0),\n  },\n}));\n\nconst Footer: React.FC = () => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.footer}>\n      Data source:{' '}\n      <a href=\"https://github.com/pcm-dpc/COVID-19\" target=\"_new\">\n        Presidenza del Consiglio dei Ministri - Dipartimento della Protezione Civile\n      </a>\n    </div>\n  );\n};\n\nexport default Footer;\n","import React from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport Home from './pages/Home';\nimport Page from './pages/Page';\nimport Header from './pages/Header';\nimport Footer from './pages/Footer';\nimport './App.css';\n\nconst App: React.FC = () => {\n  return (\n    <Router basename=\"/covid-19-italy\">\n      <Header title=\"Covid-19 Italia\" />\n      <Switch>\n        <Route exact path={['/']}>\n          <Home />\n        </Route>\n        <Route path={['/page']}>\n          <Page />\n        </Route>\n      </Switch>\n      <Footer />\n    </Router>\n  );\n};\n\nexport default App;\n","/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\nimport { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\nimport { blue, amber } from '@material-ui/core/colors';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst palette = {\n  primary: {\n    main: blue['900'],\n  },\n  secondary: amber,\n};\n\nconst theme = createMuiTheme({\n  palette,\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={theme}>\n      <App />\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}