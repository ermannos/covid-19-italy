(this["webpackJsonpcovid-italia"]=this["webpackJsonpcovid-italia"]||[]).push([[0],{247:function(e,i,t){},444:function(e,i,t){},446:function(e,i,t){"use strict";t.r(i);var n=t(7),o=t(1),a=t.n(o),c=t(15),r=t.n(c),l=t(203),d=t(487),s=t(96),u=t(486),m=(t(247),t(202)),g=t(17),j=t(38),p=t(490),b=t(478),h=t(479),v=t(480),f=t(488),O=t(492),x=t(482),R=t(493),z=t(473),T=t(39),C=t(95),D=t.n(C),_=t(128),P=t(197),y=t.n(P),S=[],w=[],I=function(e){var i=[];return y.a.get(e).then((function(e){return e.data})).then((function(e){return e.forEach((function(e){var t={data:e.data,stato:e.stato,codiceRegione:e.codice_regione,denominazioneRegione:e.denominazione_regione,lat:e.lat,long:e.lang,ricoveratiConSintomi:e.ricoverati_con_sintomi,terapiaIntensiva:e.terapia_intensiva,totaleOspedalizzati:e.totale_ospedalzzati,isolamentoDomiciliare:e.isolamento_domiciliare,totalePositivi:e.totale_positivi,variazioneTotalePositivi:e.variazione_totale_positivi,nuoviPositivi:e.nuovi_positivi,dimessiGuariti:e.dimessi_guariti,deceduti:0,decedutiTotali:e.deceduti,casiDaSospettoDiagnostico:e.casi_da_sospetto_diagnostico,casiDaScreening:e.casi_da_screening,totaleCasi:e.totale_casi,tamponi:0,tamponiTotali:e.tamponi,positiviTamponi:0,casiTestati:e.casi_testati,note:e.note};i.push(t)})),i})).catch((function(e){return console.error(e),i}))},M=function(e,i){return Object(_.a)(Object(_.a)({},e),{},{deceduti:i?e.decedutiTotali-i.decedutiTotali:0,tamponi:i?e.tamponiTotali-i.tamponiTotali:0,totaleOspedalizzati:i?e.terapiaIntensiva+e.ricoveratiConSintomi:0,positiviTamponi:i&&e.tamponiTotali>i.tamponiTotali?Math.round(e.nuoviPositivi/(e.tamponiTotali-i.tamponiTotali)*1e4)/100:0})},Y=[{codiceRegione:99,denominazioneRegione:"ITALIA"},{codiceRegione:13,denominazioneRegione:"Abruzzo"},{codiceRegione:17,denominazioneRegione:"Basilicata"},{codiceRegione:18,denominazioneRegione:"Calabria"},{codiceRegione:15,denominazioneRegione:"Campania"},{codiceRegione:8,denominazioneRegione:"Emilia romagna"},{codiceRegione:6,denominazioneRegione:"Friuli Venezia Giulia"},{codiceRegione:12,denominazioneRegione:"Lazio"},{codiceRegione:7,denominazioneRegione:"Liguria"},{codiceRegione:3,denominazioneRegione:"Lombardia"},{codiceRegione:11,denominazioneRegione:"Marche"},{codiceRegione:14,denominazioneRegione:"Molise"},{codiceRegione:21,denominazioneRegione:"P.A. Bolzano"},{codiceRegione:22,denominazioneRegione:"P.A. Trento"},{codiceRegione:1,denominazioneRegione:"Piemonte"},{codiceRegione:16,denominazioneRegione:"Puglia"},{codiceRegione:20,denominazioneRegione:"Sardegna"},{codiceRegione:19,denominazioneRegione:"Sicilia"},{codiceRegione:9,denominazioneRegione:"Toscana"},{codiceRegione:10,denominazioneRegione:"Umbria"},{codiceRegione:2,denominazioneRegione:"Valle D'Aosta"},{codiceRegione:5,denominazioneRegione:"Veneto"}],A=Object(z.a)((function(e){return{container:{padding:e.spacing(2,3)},formControl:{minWidth:200},lastUpdate:{textAlign:"right",padding:e.spacing(2)},footer:{backgroundColor:"black",color:"white"}}})),k={1:{value:1,description:"Pazienti degenti",field:"ricoveratiConSintomi"},2:{value:2,description:"Pazienti intensiva",field:"terapiaIntensiva"},3:{value:3,description:"Totale degenti",field:"totaleOspedalizzati"},4:{value:4,description:"Decessi giornalieri",field:"deceduti"},5:{value:5,description:"Decessi totali",field:"decedutiTotali"},6:{value:6,description:"Tamponi giornalieri",field:"tamponi"},7:{value:7,description:"Tamponi totali",field:"tamponiTotali"},8:{value:8,description:"Nuovi positivi",field:"nuoviPositivi"},9:{value:9,description:"Totale positivi",field:"totalePositivi"},10:{value:10,description:"Totale casi",field:"totaleCasi"},11:{value:11,description:"% positivi/tamponi giornalieri",field:"positiviTamponi"}};function L(e){var i=e.children,t=e.open,o=e.value;return Object(n.jsx)(p.a,{open:t,enterTouchDelay:0,placement:"top",title:o,arrow:!0,children:i})}var N=function(){var e=A(),i=Object(o.useState)(0),t=Object(j.a)(i,2),a=t[0],c=t[1],r=Object(o.useState)(1),l=Object(j.a)(r,2),d=l[0],u=l[1],m=Object(o.useState)(),g=Object(j.a)(m,2),p=g[0],z=g[1],C=Object(o.useState)([0,100]),_=Object(j.a)(C,2),P=_[0],y=_[1],N=Object(o.useState)(0),E=Object(j.a)(N,2),V=E[0],F=E[1],G=Object(o.useState)(100),B=Object(j.a)(G,2),U=B[0],J=B[1];Object(o.useEffect)((function(){Promise.all([I("https://raw.githubusercontent.com/pcm-dpc/COVID-19/master/dati-json/dpc-covid19-ita-regioni.json"),I("https://raw.githubusercontent.com/pcm-dpc/COVID-19/master/dati-json/dpc-covid19-ita-andamento-nazionale.json")]).then((function(e){var i,t=Object(j.a)(e,2),n=t[0],o=t[1];n.forEach((function(e){S.push(e)})),o.forEach((function(e){w.push(M(e,i)),i=e}))})).then((function(){F(0),J(w.length-1),y([0,w.length-1]),c(99)}))}),[]),Object(o.useEffect)((function(){a&&z(99===a?w:function(e){var i;return S.filter((function(i){return i.codiceRegione===e})).map((function(e){var t=M(e,i);return i=e,t}))}(a))}),[a]);var K=Object(o.useMemo)((function(){return p?p.filter((function(e,i){return i>=P[0]&&i<=P[1]})).map((function(e){return{data:D()(e.data).format("DD.MM.YYYY"),value:e[k[d].field]}})):[]}),[p,d,P]);return Object(n.jsx)(b.a,{maxWidth:"xl",className:e.container,children:Object(n.jsxs)(h.a,{container:!0,spacing:2,children:[Object(n.jsx)(h.a,{item:!0,xl:2,lg:2,md:3,sm:4,xs:6,children:Object(n.jsx)(v.a,{variant:"outlined",size:"small",className:e.formControl,children:Object(n.jsx)(f.a,{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",value:a,onChange:function(e){c(e.target.value)},placeholder:"Regione",children:Y.map((function(e){return Object(n.jsx)(O.a,{value:e.codiceRegione,children:e.denominazioneRegione},"reg-".concat(e.codiceRegione))}))})})}),Object(n.jsx)(h.a,{item:!0,xl:2,lg:2,md:3,sm:4,xs:6,children:Object(n.jsx)(v.a,{variant:"outlined",size:"small",className:e.formControl,children:Object(n.jsx)(f.a,{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",value:d,onChange:function(e){u(e.target.value)},placeholder:"Grafico",children:Object.values(k).map((function(e){return Object(n.jsx)(O.a,{value:e.value,children:e.description},"gf-".concat(e.value))}))})})}),Object(n.jsx)(h.a,{item:!0,xl:8,lg:8,md:6,sm:4,xs:12,children:Object(n.jsx)("div",{className:e.lastUpdate,children:Object(n.jsxs)(x.a,{children:["Ultimo aggiornamento:"," ",p&&p.length?D()(p[p.length-1].data).format("DD/MM/YYYY"):"-"]})})}),Object(n.jsxs)(h.a,{item:!0,xs:12,children:[Object(n.jsx)(T.e,{width:"100%",height:700,children:Object(n.jsxs)(T.b,{data:K,margin:{top:5,right:30,left:20,bottom:5},children:[Object(n.jsx)(T.g,{dataKey:"data"}),Object(n.jsx)(T.h,{}),Object(n.jsx)(T.c,{strokeDasharray:"3 3"}),Object(n.jsx)(T.f,{}),Object(n.jsx)(T.d,{}),Object(n.jsx)(T.a,{type:"monotone",name:k[d].description,dataKey:"value",stroke:s.a[900],fill:s.a[700]})]})}),Object(n.jsx)(h.a,{item:!0,xs:12,style:{marginTop:"24px"},children:Object(n.jsx)(R.a,{value:P,min:V,max:U,valueLabelDisplay:"on",onChange:function(e,i){Array.isArray(i)&&y(i)},ValueLabelComponent:L,valueLabelFormat:function(e){return w&&w.length?D()(w[e].data).format("DD.MM.YYYY"):e}})})]})]})})},E=function(){return Object(n.jsx)("div",{children:"page"})},V=t(483),F=t(484),G=t(485),B=t(491),U=Object(z.a)((function(){return{title:{flexGrow:1},github:{color:"white"}}})),J=function(e){var i=e.title,t=U(),a=Object(o.useCallback)((function(){window.open("https://github.com/ermannos/covid-19-italy","_new")}),[]);return Object(n.jsx)(V.a,{position:"static",children:Object(n.jsxs)(F.a,{children:[Object(n.jsx)(x.a,{variant:"h6",className:t.title,children:i}),Object(n.jsx)(G.a,{className:t.github,onClick:a,title:"GitHub repository",children:Object(n.jsx)(B.a,{})})]})})},K=Object(z.a)((function(e){return{footer:{backgroundColor:s.a[900],color:"white",textAlign:"center",padding:e.spacing(2,0)}}})),W=function(){var e=K();return Object(n.jsxs)("div",{className:e.footer,children:["Data source:"," ",Object(n.jsx)("a",{href:"https://github.com/pcm-dpc/COVID-19",target:"_new",children:"Presidenza del Consiglio dei Ministri - Dipartimento della Protezione Civile"})]})},H=(t(444),function(){return Object(n.jsxs)(m.a,{basename:"/covid-19-italy",children:[Object(n.jsx)(J,{title:"Covid-19 Italia"}),Object(n.jsxs)(g.c,{children:[Object(n.jsx)(g.a,{exact:!0,path:["/"],children:Object(n.jsx)(N,{})}),Object(n.jsx)(g.a,{path:["/page"],children:Object(n.jsx)(E,{})})]}),Object(n.jsx)(W,{})]})}),q=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,494)).then((function(i){var t=i.getCLS,n=i.getFID,o=i.getFCP,a=i.getLCP,c=i.getTTFB;t(e),n(e),o(e),a(e),c(e)}))},Q={primary:{main:s.a[900]},secondary:u.a},X=Object(l.a)({palette:Q});r.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(d.a,{theme:X,children:Object(n.jsx)(H,{})})}),document.getElementById("root")),q()}},[[446,1,2]]]);
//# sourceMappingURL=main.8db20d40.chunk.js.map